<mat-card>
  <mat-card-header>
    <mat-card-title>Edit your story!</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form
      [formGroup]="editForm"
      #formDirective="ngForm"
      (ngSubmit)="onSubmit()"
      novalidate
    >
      <mat-form-field hintLabel="Max 140 characters">
        <input
          matInput
          placeholder="Title"
          formControlName="title"
          maxlength="140"
          required
        />
        <mat-hint align="end"
          >{{ editForm.controls.title.value?.length || 0 }}/140</mat-hint
        >
        <mat-error
          class="title"
          *ngIf="
            editForm.controls.title.touched &&
            editForm.controls.title.hasError('required')
          "
          >{{ errorMessages.emptyTitleError }}</mat-error
        >
        <mat-error
          class="title"
          *ngIf="
            editForm.controls.title.touched &&
            editForm.controls.title.hasError('maxlength')
          "
          >{{ errorMessages.tooLongTitleError }}</mat-error
        >
      </mat-form-field>
      <mat-form-field hintLabel="Max 10000 characters">
        <textarea
          matInput
          placeholder="Enter your story here!"
          formControlName="content"
          maxlength="10000"
          required
        ></textarea>
        <mat-hint align="end"
          >{{ editForm.controls.content.value?.length || 0 }}/10000</mat-hint
        >
        <mat-error
          class="content"
          *ngIf="
            editForm.controls.content.touched &&
            editForm.controls.content.hasError('required')
          "
          >{{ errorMessages.emptyContentError }}
        </mat-error>
        <mat-error
          class="content"
          *ngIf="
            editForm.controls.content.touched &&
            editForm.controls.content.hasError('maxlength')
          "
          >{{ errorMessages.tooLongContentError }}
        </mat-error>
      </mat-form-field>
      <div class="actions">
        <a class="delete" mat-raised-button color="warn" (click)="onDelete()"
          >Delete</a
        >
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!editForm.valid"
        >
          Save
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
